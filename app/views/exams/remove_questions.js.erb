$(".question-list").html("<%= j(render partial: 'exams/questions.html.slim')%>")
$(".selected-question-list").html("<%= j(render partial: 'exams/selected_questions.html.slim')%>")

$('.question-list .question').on('click', function() {
  var added, list_group, q, ques_id, questions, selected_questions;
  selected_questions = $("#selected_questions").val();
  if (selected_questions.length === 0) {
    questions = [];
  } else {
    questions = selected_questions.split(',');
  }
  ques_id = $(this).data('ques_id');
  added = false;
  $.map(questions, function(el, i) {
    if (el.toString() === ques_id.toString()) {
      return added = true;
    }
  });
  if (added === false) {
    questions.push(ques_id.toString());
  }
  q = questions.join(',');
  $('#selected_questions').val(q);
  list_group = $(this).children('.list-group-item');
  if (list_group.hasClass('selected')) {
    return list_group.removeClass('selected');
  } else {
    return list_group.addClass('selected');
  }
});

$('.selected-question-list .question').on('click', function() {
  var added, list_group, q, ques_id, questions, selected_questions;
  selected_questions = $("#selected_questions").val();
  if (selected_questions.length === 0) {
    questions = [];
  } else {
    questions = selected_questions.split(',');
  }
  ques_id = $(this).data('ques_id');
  added = false;
  $.map(questions, function(el, i) {
    if (el.toString() === ques_id.toString()) {
      return added = true;
    }
  });
  if (added === true) {
    questions.splice(questions.indexOf(ques_id.toString()), 1);
  }
  q = questions.join(',');
  $('#selected_questions').val(q);
  list_group = $(this).children('.list-group-item');
  if (list_group.hasClass('selected')) {
    return list_group.removeClass('selected');
  } else {
    return list_group.addClass('selected');
  }
});
